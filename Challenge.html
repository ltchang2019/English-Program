<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#reportArea {
			border: 1px solid red;
			width: 500px;
			height: 300px;
		}
		.highlight {
			background-color: rgb(255, 255, 0);
		}
	</style>
</head>
<body>
	
	<h1>AJAX Practice</h1>
	
	<p class="highlight">Due: end of period. Turn in what you have 
		accomplished. Email me your copy of this file and the PHP file that 
		sends back the user data. You can work in pairs but only need to submit
		one email (include your partner's name if you are the one emailing me).
	</p>
	
	<form action="javascript:sendIt();" method="GET">
		Username: <input type="text" name="username" id="username"></input>
		<br>
		<input type="submit"></input>
	</form>
	
	<div id="reportArea"></div>
	
	<script>
		function showResults(responseText) {
			document.getElementById("reportArea").innerHTML = responseText;
		}

		function sendIt() {


			var url = "invoke.php"; 
			var username = document.getElementById("username").value;

			url += "?username=" + username;
			
			httpGetAsync(url, showResults);
		
		

			function httpGetAsync(theUrl, callbackWhenPageLoaded) {	
			var xmlHttp = new XMLHttpRequest();

			xmlHttp.onreadystatechange = function() { 
				if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
					callbackWhenPageLoaded(xmlHttp.responseText);
			}
			xmlHttp.open("GET", theUrl, true); 
			xmlHttp.send(null);
		}
		
	</script>
</body>
</html>